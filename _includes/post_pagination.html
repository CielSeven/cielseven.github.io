{% include base_path %}

{% if page.collection and page.collection != "posts" %}
  {% assign sorted_collection = site[page.collection] | sort: 'date' %}
  {% assign found_current = false %}
  {% for doc in sorted_collection %}
    {% if found_current %}
      {% unless next_doc %}
        {% if doc.permalink != "None" %}
          {% assign next_doc = doc %}
        {% endif %}
      {% endunless %}
    {% elsif doc.url == page.url %}
      {% assign found_current = true %}
    {% else %}
      {% if doc.permalink != "None" %}
        {% assign prev_doc = doc %}
      {% endif %}
    {% endif %}
  {% endfor %}
{% else %}
  {% assign prev_doc = page.previous %}
  {% assign next_doc = page.next %}
{% endif %}

{% if prev_doc or next_doc %}
  <nav class="pagination">
    {% if prev_doc %}
      <a href="{{ base_path }}{{ prev_doc.url }}" class="pagination--pager" title="{{ prev_doc.title | markdownify | strip_html }}">{{ site.data.ui-text[site.locale].pagination_previous | default: "Previous" }}</a>
    {% else %}
      <a href="#" class="pagination--pager disabled">{{ site.data.ui-text[site.locale].pagination_previous | default: "Previous" }}</a>
    {% endif %}
    {% if next_doc %}
      <a href="{{ base_path }}{{ next_doc.url }}" class="pagination--pager" title="{{ next_doc.title | markdownify | strip_html }}">{{ site.data.ui-text[site.locale].pagination_next | default: "Next" }}</a>
    {% else %}
      <a href="#" class="pagination--pager disabled">{{ site.data.ui-text[site.locale].pagination_next | default: "Next" }}</a>
    {% endif %}
  </nav>
{% endif %}